drop database if exists final_TSW_DB;
create database if not exists final_TSW_DB;
use final_TSW_DB;


create table if not exists utente(
  email varchar(100) primary key,
  password varchar(63) not null,
  nome varchar(40) not null,
  cognome varchar(40) not null,
  codice_fiscale varchar(16),
  data_di_nascita date,
  indirizzo varchar(255),
  numero_di_cellulare varchar(20),
  poteri tinyint(1) default 0
);

create table if not exists prodotto(
	id_prodotto varchar(30) primary key,
  nome varchar(100) not null,
  descrizione varchar(3000),
  categoria varchar(50) not null,
  immagine varchar(2083) not null,
  calorie int check (calorie >= 0),
  carboidrati int check (carboidrati >= 0),
  proteine int check (proteine >= 0),
  grassi int check (grassi >= 0)
);

create table if not exists gusto(
	id_gusto int AUTO_INCREMENT primary key,
  nomeGusto varchar(50) not null
);

create table if not exists confezione(
	id_confezione int AUTO_INCREMENT primary key,
  peso int not null check (peso >= 0)
);

create table if not exists variante(
	id_variante int AUTO_INCREMENT primary key,
  id_prodotto_variante varchar(30) not null,
  id_gusto int not null,
  id_confezione int not null,
  prezzo float check (prezzo >= 0.0),
  quantità int check (quantità >= 0),
  sconto int check (sconto >= 0),
  evidenza tinyint(1) default 0,
  
  foreign key (id_prodotto_variante) references prodotto(id_prodotto),
  foreign key (id_gusto) references gusto(id_gusto),
  foreign key (id_confezione) references confezione(id_confezione)
);


create table if not exists carrello(
	email_utente varchar(100) not null,
  id_prodotto varchar(30) not null,
  id_variante int not null,
  quantità int not null check (quantità > 0),
  prezzo float not null check (prezzo >= 0),
  
  primary key(email_utente, id_prodotto, id_variante),
  foreign key(email_utente) references utente(email),
  foreign key(id_prodotto) references prodotto(id_prodotto),
  foreign key(id_variante) references variante(id_variante)
);

CREATE TABLE IF NOT EXISTS ordine(
    id_ordine INT AUTO_INCREMENT PRIMARY KEY,
    email_utente VARCHAR(100) NOT NULL,
    data DATE DEFAULT (CURRENT_DATE),
    stato VARCHAR(255) DEFAULT 'in esecuzione' NOT NULL,
    totale FLOAT NOT NULL DEFAULT 0.0 CHECK (totale >= 0.0),
  	descrizione text,
    FOREIGN KEY (email_utente) REFERENCES utente(email) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS dettaglio_ordine(
	id_ordine int not null,
  id_prodotto varchar(30) not null,
  id_variante int not null,
  quantità int not null check (quantità > 0),
  prezzo float not null default 0.0 check (prezzo >= 0.0),

  primary key(id_ordine, id_prodotto, id_variante),
  foreign key(id_ordine) references ordine (id_ordine),
  foreign key(id_prodotto) references prodotto (id_prodotto),
  foreign key(id_variante) references variante (id_variante)
)
;


CREATE TRIGGER updatePriceDettaglioOrdine
BEFORE INSERT ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE price DECIMAL(10, 2); -- Utilizzo di DECIMAL per il prezzo per maggiore precisione

    -- Calcoliamo il prezzo basato sulla variante
    SET price = (
        SELECT (v.prezzo * (1 - v.sconto / 100) * NEW.quantità)
        FROM variante v
        WHERE v.id_variante = NEW.id_variante
    );

    -- Assegniamo il prezzo calcolato alla riga che sta per essere inserita
    SET NEW.prezzo = price;

END;


CREATE TRIGGER updatePriceDettaglioOrdineBeforeUpdate
BEFORE UPDATE ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE price DECIMAL(10, 2);

    -- Calcoliamo il prezzo basato sulla variante
    SET price = (
        SELECT (v.prezzo * (1 - v.sconto / 100) * NEW.quantità)
        FROM variante v
        WHERE v.id_variante = NEW.id_variante
    );

    -- Assegniamo il prezzo calcolato alla riga che sta per essere aggiornata
    SET NEW.prezzo = price;
END;


CREATE TRIGGER aggiorna_prezzo_ordine_onUpdate
AFTER UPDATE ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE total DECIMAL(10, 2);  -- Utilizzo di DECIMAL per il totale per maggiore precisione

    -- Calcoliamo il totale aggiornato per l'ordine basato sulle righe appena inserite
    SET total = (
        SELECT SUM(prezzo)  -- Calcoliamo il totale sommando il prezzo per la quantità di ogni riga
        FROM dettaglio_ordine
        WHERE id_ordine = NEW.id_ordine  -- Filtriamo per l'id_ordine della nuova riga inserita
    );

    -- Aggiorniamo il totale dell'ordine nella tabella 'ordine'
    UPDATE ordine
    SET totale = total
    WHERE id_ordine = NEW.id_ordine;  -- Utilizziamo l'id_ordine della nuova riga inserita

END;


CREATE TRIGGER aggiorna_prezzo_ordine
AFTER INSERT ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE total DECIMAL(10, 2);  -- Utilizzo di DECIMAL per il totale per maggiore precisione

    -- Calcoliamo il totale aggiornato per l'ordine basato sulle righe appena inserite
    SET total = (
        SELECT SUM(prezzo)  -- Calcoliamo il totale sommando il prezzo per la quantità di ogni riga
        FROM dettaglio_ordine
        WHERE id_ordine = NEW.id_ordine  -- Filtriamo per l'id_ordine della nuova riga inserita
    );

    -- Aggiorniamo il totale dell'ordine nella tabella 'ordine'
    UPDATE ordine
    SET totale = total
    WHERE id_ordine = NEW.id_ordine;  -- Utilizziamo l'id_ordine della nuova riga inserita

END;



CREATE TRIGGER aggiorna_descrizione_ordine
AFTER INSERT ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE descrizioni TEXT;

    -- Concatenate descriptions with line breaks for each product
    SET descrizioni = (
        SELECT GROUP_CONCAT(
            CONCAT(
                'Prodotto: ', p.nome,
                ', Gusto: ', g.nomeGusto,
                ', Confezione: ', c.peso,
                ' Quantità: ', d.quantità,
                ', Prezzo: ', FORMAT(d.prezzo, 2)
            ) SEPARATOR ';\n'
        )
        FROM dettaglio_ordine d
        JOIN prodotto p ON d.id_prodotto = p.id_prodotto
        JOIN variante v ON d.id_variante = v.id_variante
        JOIN gusto g ON v.id_gusto = g.id_gusto
        JOIN confezione c ON v.id_confezione = c.id_confezione
        WHERE d.id_ordine = NEW.id_ordine
    );

    -- Update the ordine table with the concatenated descriptions
    UPDATE ordine
    SET descrizione = descrizioni
    WHERE id_ordine = NEW.id_ordine;
END;

CREATE TRIGGER aggiorna_descrizione_ordine_OnUpdate
AFTER UPDATE ON dettaglio_ordine
FOR EACH ROW
BEGIN
    DECLARE descrizioni TEXT;

    -- Concatenate descriptions with line breaks for each product
    SET descrizioni = (
        SELECT GROUP_CONCAT(
            CONCAT(
                'Prodotto: ', p.nome,
                ', Gusto: ', g.nomeGusto,
                ', Confezione: ', c.peso,
                ' Quantità: ', d.quantità,
                ', Prezzo: ', FORMAT(d.prezzo, 2)
            ) SEPARATOR ';\n'
        )
        FROM dettaglio_ordine d
        JOIN prodotto p ON d.id_prodotto = p.id_prodotto
        JOIN variante v ON d.id_variante = v.id_variante
        JOIN gusto g ON v.id_gusto = g.id_gusto
        JOIN confezione c ON v.id_confezione = c.id_confezione
        WHERE d.id_ordine = NEW.id_ordine
    );

    -- Update the ordine table with the concatenated descriptions
    UPDATE ordine
    SET descrizione = descrizioni
    WHERE id_ordine = NEW.id_ordine;
END;







-- Indici sulla tabella prodotto
CREATE INDEX idx_prodotto_categoria ON prodotto(categoria);
CREATE INDEX idx_prodotto_nome ON prodotto(nome);

-- Indici sulla tabella variante
CREATE INDEX idx_variante_id_prodotto_variante ON variante(id_prodotto_variante);
CREATE INDEX idx_variante_prezzo_sconto ON variante((prezzo * (1 - sconto / 100.0)));
CREATE INDEX idx_variante_evidenza ON variante(evidenza);
CREATE INDEX idx_variante_id_gusto ON variante(id_gusto);
CREATE INDEX idx_variante_id_confezione ON variante(id_confezione);

-- Indici sulla tabella gusto
CREATE INDEX idx_gusto_nomeGusto ON gusto(nomeGusto);

-- Indici sulla tabella confezione
CREATE INDEX idx_confezione_peso ON confezione(peso);

-- Indice combinato sulla tabella variante
CREATE INDEX idx_variante_prezzo_sconto_evidenza ON variante((prezzo * (1 - sconto / 100.0)), evidenza);



INSERT INTO prodotto (id_prodotto, nome, descrizione, categoria, immagine, calorie, carboidrati, proteine, grassi) VALUES
('B000', 'Barretta Proteica', 'Barretta proteica al gusto di cioccolato', 'barrette', 'Immagini/protein.png', 200, 15, 20, 7),
('B001', 'Barretta Proteica Plus', 'Barretta proteica al gusto di cioccolato', 'barrette', 'Immagini/protein.png', 200, 15, 20, 7),
('B002', 'Barretta Energetica', 'Barretta energetica ai frutti rossi', 'barrette', 'Immagini/protein.png', 180, 20, 15, 5),
('B003', 'Barretta Vegana', 'Barretta vegana con nocciole', 'barrette', 'Immagini/protein.png', 210, 22, 12, 10),
('B004', 'Barretta Proteica Caramello', 'Barretta proteica con caramello e arachidi', 'barrette', 'Immagini/protein.png', 220, 17, 18, 12),
('B005', 'Barretta Energetica Miele', 'Barretta energetica con miele e mandorle', 'barrette', 'Immagini/protein.png', 190, 25, 10, 8),
('C001', 'Crema alla Nocciola', 'Deliziosa crema spalmabile alla nocciola', 'creme spalmabili', 'Immagini/protein.png', 200, 25, 3, 12),
('C002', 'Crema al Cacao', 'Squisita crema spalmabile al cacao', 'creme spalmabili', 'Immagini/protein.png', 220, 30, 4, 15),
('C003', 'Crema al Pistacchio', 'Gustosa crema spalmabile al pistacchio', 'creme spalmabili', 'Immagini/protein.png', 250, 28, 5, 18),
('C004', 'Crema di Mandorle', 'Delicata crema spalmabile alle mandorle', 'creme spalmabili', 'Immagini/protein.png', 210, 27, 6, 14),
('C005', 'Crema al Caramello', 'Irresistibile crema spalmabile al caramello', 'creme spalmabili', 'Immagini/protein.png', 240, 35, 3, 16),
('CRT001', 'Creatina Monoidrato', 'Creatina di alta qualità per migliorare la forza e le prestazioni', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('CRT002', 'Creatina Micronizzata', 'Creatina micronizzata per un migliore assorbimento e digeribilità', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('CRT003', 'Creatina Etil Estere', 'Creatina avanzata con etil estere per un rapido assorbimento', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('CRT004', 'Creatina HCL', 'Creatina cloridrato per un migliore assorbimento e meno ritenzione idrica', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('CRT005', 'Creatina Alkaline', 'Creatina alcalina per una maggiore stabilità e assorbimento', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('CRT006', 'Creatina Avanzata', 'Creatina di alta qualità per migliorare la forza e le prestazioni', 'creatina', 'Immagini/protein.png', 0, 0, 0, 0),
('F001', 'Farina di Mandorle', 'Farina finemente macinata da mandorle', 'farine', 'Immagini/protein.png', 600, 10, 20, 54),
('F002', 'Farina di Cocco', 'Farina di cocco biologica', 'farine', 'Immagini/protein.png', 450, 21, 8, 33),
('F003', 'Farina di Avena', 'Farina di avena integrale', 'farine', 'Immagini/protein.png', 400, 70, 14, 7),
('F004', 'Farina di Grano Saraceno', 'Farina senza glutine', 'farine', 'Immagini/protein.png', 340, 72, 13, 3),
('F005', 'Farina di Riso', 'Farina di riso bianca', 'farine', 'Immagini/protein.png', 360, 80, 7, 1),
('P001', 'Proteina Whey 100%', 'Proteine del siero del latte ad alta concentrazione', 'proteine', 'Immagini/protein.png', 120, 3, 25, 2),
('P002', 'Proteina Vegana', 'Mix di proteine vegetali per un apporto completo', 'proteine', 'Immagini/protein.png', 110, 2, 23, 1),
('P003', 'Caseina Micellare', 'Proteine a rilascio lento per un recupero notturno ottimale', 'proteine', 'Immagini/protein.png', 130, 4, 24, 2),
('P004', 'Proteina di Soia Isolata', 'Alta concentrazione di proteine vegetali isolate', 'proteine', 'Immagini/protein.png', 115, 1, 27, 1),
('P005', 'Proteina dell\'Albume', 'Proteine dell\'albume d\'uovo in polvere', 'proteine', 'Immagini/protein.png', 108, 1, 22, 0),
('PW001', 'Pre-Workout Boost', 'Formula pre-allenamento per aumentare energia e concentrazione', 'pre-workout', 'Immagini/protein.png', 10, 3, 2, 0),
('PW002', 'Pre-Workout Explosive', 'Potente pre-allenamento per massimizzare le prestazioni', 'pre-workout', 'Immagini/protein.png', 15, 4, 1, 0),
('PW003', 'Pre-Workout Surge', 'Pre-allenamento con ingredienti avanzati per un’energia esplosiva', 'pre-workout', 'Immagini/protein.png', 12, 3, 2, 0),
('PW004', 'Pre-Workout Nitro', 'Pre-allenamento con alta concentrazione di caffeina e beta-alanina', 'pre-workout', 'Immagini/protein.png', 10, 2, 1, 0),
('PW005', 'Pre-Workout Intense', 'Pre-allenamento per aumentare forza e resistenza', 'pre-workout', 'Immagini/protein.png', 14, 3, 2, 0),
('S001', 'Salsa Barbecue', 'Salsa barbecue affumicata', 'salse', 'Immagini/protein.png', 50, 12, 1, 0),
('S002', 'Salsa di Pomodoro', 'Salsa di pomodoro biologica', 'salse', 'Immagini/protein.png', 40, 9, 2, 1),
('S003', 'Maionese Vegana', 'Maionese senza uova', 'salse', 'Immagini/protein.png', 90, 2, 0, 10),
('S004', 'Salsa al Pesto', 'Salsa al pesto genovese', 'salse', 'Immagini/protein.png', 80, 4, 2, 7),
('S005', 'Salsa di Soia', 'Salsa di soia a basso contenuto di sodio', 'salse', 'Immagini/protein.png', 15, 2, 1, 0);

INSERT INTO gusto (id_gusto, nomeGusto) VALUES (1, 'Cioccolato');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (2, 'Caramello');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (3, 'Frutti Rossi');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (4, 'Nocciole');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (5, 'Mandorle');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (6, 'Vaniglia');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (7, 'Cacao');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (8, 'Pistacchio');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (9, 'Soia');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (10, 'Barbecue');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (11, 'Pomodoro');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (12, 'Pesto');
INSERT INTO gusto (id_gusto, nomeGusto) VALUES (13, 'Soia a basso contenuto di sodio');


INSERT INTO confezione (id_confezione, peso) VALUES (1, 50);
INSERT INTO confezione (id_confezione, peso) VALUES (2, 100);
INSERT INTO confezione (id_confezione, peso) VALUES (3, 200);
INSERT INTO confezione (id_confezione, peso) VALUES (4, 250);
INSERT INTO confezione (id_confezione, peso) VALUES (5, 500);
INSERT INTO confezione (id_confezione, peso) VALUES (6, 1000);


INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (161, 'B000', 1, 1, 2.5, 100, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (162, 'B000', 2, 2, 4, 50, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (163, 'B001', 1, 1, 3, 100, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (164, 'B001', 3, 2, 4.5, 50, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (165, 'B002', 3, 2, 2.8, 80, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (166, 'B002', 4, 3, 5.5, 40, 20, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (167, 'B003', 4, 3, 3.5, 70, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (168, 'B003', 5, 4, 6, 35, 25, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (169, 'B004', 2, 2, 3.75, 90, 15, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (170, 'B004', 5, 4, 7, 30, 30, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (171, 'B005', 5, 4, 4.2, 60, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (172, 'B005', 4, 5, 8, 25, 35, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (173, 'C001', 4, 3, 5, 70, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (174, 'C001', 7, 5, 9.5, 30, 25, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (175, 'C002', 7, 5, 5.75, 80, 15, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (176, 'C002', 9, 6, 11, 20, 30, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (177, 'C003', 8, 5, 6.3, 50, 20, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (178, 'C003', 5, 6, 12, 15, 35, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (179, 'C004', 5, 4, 5.2, 60, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (180, 'C004', 9, 5, 10, 25, 30, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (181, 'C005', 2, 4, 6.5, 55, 20, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (182, 'C005', 5, 5, 11.5, 20, 35, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (183, 'CRT001', 1, 2, 15, 100, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (184, 'CRT001', 2, 3, 25, 50, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (185, 'CRT002', 3, 2, 18, 80, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (186, 'CRT002', 4, 3, 28, 40, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (187, 'CRT003', 2, 3, 22, 60, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (188, 'CRT003', 1, 4, 30, 30, 15, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (189, 'CRT004', 3, 3, 20, 70, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (190, 'CRT004', 5, 4, 32, 25, 20, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (191, 'CRT005', 4, 4, 25, 60, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (192, 'CRT005', 6, 5, 35, 20, 25, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (193, 'CRT006', 5, 5, 28, 50, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (194, 'CRT006', 2, 6, 40, 15, 40, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (195, 'F001', 5, 4, 10, 40, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (196, 'F001', 4, 5, 15, 20, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (197, 'F002', 3, 3, 8, 50, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (198, 'F002', 5, 4, 12, 25, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (199, 'F003', 2, 2, 5, 70, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (200, 'F003', 1, 3, 9, 35, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (201, 'F004', 3, 4, 6, 60, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (202, 'F004', 4, 5, 11, 30, 20, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (203, 'F005', 1, 2, 4, 80, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (204, 'F005', 2, 3, 7.5, 40, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (205, 'P001', 1, 1, 20, 50, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (206, 'P001', 2, 2, 35, 25, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (207, 'P002', 9, 2, 18, 60, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (208, 'P002', 5, 3, 30, 30, 15, 0);
INSERT INTO variante(id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (209, 'P003', 1, 2, 22, 40, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (210, 'P003', 3, 3, 36, 20, 20, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (211, 'P004', 9, 2, 19, 55, 5, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (212, 'P004', 8, 3, 32, 28, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (213, 'P005', 10, 4, 17, 65, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (214, 'P005', 5, 3, 28, 35, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (215, 'PW001', 7, 1, 10, 80, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (216, 'PW001', 5, 2, 18, 40, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (217, 'PW002', 3, 1, 12, 70, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (218, 'PW002', 9, 2, 20, 35, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (219, 'PW003', 2, 1, 15, 75, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (220, 'PW003', 4, 2, 22, 37, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (221, 'PW004', 5, 1, 14, 85, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (222, 'PW004', 2, 2, 21, 42, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (223, 'PW005', 1, 1, 13, 90, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (224, 'PW005', 7, 2, 23, 45, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (225, 'S001', 10, 3, 5, 50, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (226, 'S001', 7, 4, 7, 25, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (227, 'S002', 11, 2, 3, 60, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (228, 'S002', 4, 3, 5.5, 30, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (229, 'S003', 4, 2, 6, 55, 0, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (230, 'S003', 5, 3, 8.5, 27, 10, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (231, 'S004', 12, 3, 5.5, 48, 0, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (232, 'S004', 4, 4, 9, 24, 10, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (233, 'S005', 13, 2, 4, 70, 5, 1);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (234, 'S005', 5, 3, 7.5, 35, 15, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (236, 'CRT006', 3, 4, 40, 16, 39, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (237, 'P001', 5, 4, 25, 10, 12, 0);
INSERT INTO variante (id_variante, id_prodotto_variante, id_gusto, id_confezione, prezzo, quantità, sconto, evidenza) VALUES (238, 'P001', 1, 2, 15, 20, 2, 0);

INSERT INTO utente (email, password, nome, cognome, codice_fiscale, data_di_nascita, indirizzo, numero_di_cellulare, poteri) VALUES ('luigiaureimma21@gmail.com', '938992937be7b24c8d25f82e68be130b11ca0e61', 'Luigi', 'Auriemma', 'ARMLGU03E21G812E', '2003-05-21', 'Via Raggi 14', '3925303194', 1);
INSERT INTO utente (email, password, nome, cognome, codice_fiscale, data_di_nascita, indirizzo, numero_di_cellulare, poteri) VALUES ('raffaelecoppola603@gmail.com', '2645b14e38601e8675c430e5eccfb9bf5e5462bf', 'Raffaele', 'Coppola', 'CPPRFL03T28H703E', '2003-12-28', 'Via Giovanni Verga', '3896630640', 1);
INSERT INTO utente (email, password, nome, cognome, codice_fiscale, data_di_nascita, indirizzo, numero_di_cellulare, poteri) VALUES ('utentex@gmail.com', 'eb701d6c70f1d528becb9173f0ce7d7b8fa755b9', 'Utente', 'X', 'YHLVDS73M49C122X', '2000-12-15', 'Via Napoli', '3201703145', 0);
INSERT INTO utente (email, password, nome, cognome, codice_fiscale, data_di_nascita, indirizzo, numero_di_cellulare, poteri) VALUES ('utentey@gmail.com', 'c57558b2f0198f62db7db52d38025038c8f40bdd', 'Utente', 'Y', 'RSSMRA91M14H501E', '2004-01-01', 'Via Vetice', '329456789', 0);

/*
INSERT INTO ordine (id_ordine, email_utente, totale) VALUES (1, 'raffaelecoppola603@gmail.com', 361.4);
INSERT INTO ordine (id_ordine, email_utente, data, stato, totale) VALUES (2, 'raffaelecoppola603@gmail.com', '2024-07-08', 'In esecuzione', 220.2);
INSERT INTO ordine (id_ordine, email_utente, data, stato, totale) VALUES (3, 'raffaelecoppola603@gmail.com', '2024-07-08', 'In esecuzione', 217.5);
INSERT INTO ordine (id_ordine, email_utente, data, stato, totale) VALUES (4, 'raffaelecoppola603@gmail.com', '2024-07-08', 'In esecuzione', 282.92);



INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (1, 'CRT001', 183, 5, 75);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (1, 'P001', 238, 6, 88.2);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (1, 'P004', 211, 4, 72.2);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (1, 'P005', 214, 5, 126);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (2, 'P001', 237, 6, 132);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (2, 'P001', 238, 6, 88.2);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (3, 'CRT001', 183, 5, 75);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (3, 'CRT001', 184, 6, 142.5);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'B000', 161, 1, 2.25);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'B001', 163, 1, 2.85);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'B002', 165, 1, 2.66);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'B003', 167, 2, 6.3);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'B005', 171, 2, 7.56);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'C001', 173, 3, 13.5);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'P001', 206, 6, 189);
INSERT INTO dettaglio_ordine (id_ordine, id_prodotto, id_variante, quantità, prezzo) VALUES (4, 'P001', 238, 4, 58.8);

*/

